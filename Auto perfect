-- LocalScript

local ReplicatedStorage = game:GetService("ReplicatedStorage")
local ShootEvent = ReplicatedStorage:WaitForChild("Events"):WaitForChild("Shoot")

-- Backup original __namecall
local oldNamecall = hookmetamethod(game, "__namecall", function(self, ...)
    local method = getnamecallmethod()
    local args = {...}

    -- Check if this is the first Shoot event fired by the local player
    if self == ShootEvent and method == "FireServer" and checkcaller() then
        -- Match exact first event arguments
        if args[1] == true and args[2] == 100 and args[4] == false then
            -- Wait 0.8 seconds, then fire the second event
            task.delay(0.8, function()
                ShootEvent:FireServer(false, -0.8915302181243896, true)
            end)
        end
    end

    return oldNamecall(self, ...)
end)
